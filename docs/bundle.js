(()=>{function i(){let e="DETAILS_DROPDOWN_MENU-theme",t=document.querySelector(".theme-toggler"),r=t.querySelector(".light .visually-hidden"),o=t.querySelector(".dark .visually-hidden"),d=t.querySelector("button");function g(){try{let s=localStorage.getItem(e);return s?JSON.parse(s):!1}catch(s){return console.error("Error parsing theme from localStorage:",s),!1}}let a=g();function m(s){a=s,document.documentElement.classList.toggle("darkmode",a),localStorage.setItem(e,a),p()}function f(){m(!a)}function p(){r.textContent=a?" theme active":" theme inactive",o.textContent=a?" theme inactive":" theme active",d.setAttribute("aria-pressed",a?"false":"true")}d.addEventListener("click",f),m(a)}function u(){window.addEventListener("load",()=>{let n=document.getElementById("loader"),e=document.getElementById("page-loaded");n.classList.add("loader-hidden"),n.addEventListener("transitionend",()=>{n.remove(),e.textContent="Page has loaded.",e.setAttribute("aria-hidden","false")})})}function c(){let n=document.getElementById("hamburger-button"),e=document.getElementById("btn-txt"),t=document.getElementById("site-navigation");n.addEventListener("click",()=>{n.getAttribute("aria-expanded")==="false"?(n.setAttribute("aria-expanded","true"),e.textContent="Close menu"):(n.setAttribute("aria-expanded","false"),e.textContent="Expand menu"),t.classList.toggle("menu-hidden"),t.classList.toggle("menu-visible")})}function l(){let n=document.querySelectorAll("nav");n.length&&(document.addEventListener("click",e=>{n.forEach(t=>{let r=t.querySelectorAll("details");t.contains(e.target)||r.forEach(o=>{o.open&&(o.removeAttribute("open"),o.querySelector("summary").setAttribute("aria-expanded","false"))})})}),document.querySelectorAll("details").forEach(e=>{let t=e.querySelector("summary");t.setAttribute("aria-expanded",e.open?"true":"false"),e.addEventListener("toggle",()=>{if(t.setAttribute("aria-expanded",e.open?"true":"false"),e.open&&e.dataset.group){let r=e.dataset.group;document.querySelectorAll(`details[data-group="${r}"]`).forEach(o=>{if(o!==e&&o.open){o.removeAttribute("open");let d=o.querySelector("summary");d&&d.setAttribute("aria-expanded","false")}})}}),e.addEventListener("keydown",r=>{r.key==="Escape"&&e.open&&(e.removeAttribute("open"),t.setAttribute("aria-expanded","false"),t.focus())})}))}i();u();c();l();})();
